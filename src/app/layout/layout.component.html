<ng-container *ngIf="auth$ | async as auth">
  <th-header [isAuthenticated]="auth.isAuthenticated" [username]="auth.user?.username || ''"></th-header>
  <th-auth-layout *ngIf="auth.isAuthenticated; else nonAuthenticated">
    <router-outlet></router-outlet>
  </th-auth-layout>
  <th-footer></th-footer>
</ng-container>

<ng-template #nonAuthenticated>
  <router-outlet></router-outlet>
</ng-template>