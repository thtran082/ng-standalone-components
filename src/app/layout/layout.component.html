<ng-container *ngIf="auth$ | async as auth">
  <app-header [isAuthenticated]="auth.isAuthenticated" [username]="auth.user?.username || ''"></app-header>
  <app-auth-layout *ngIf="auth.isAuthenticated; else nonAuthenticated">
    <router-outlet></router-outlet>
  </app-auth-layout>
  <app-footer></app-footer>
</ng-container>

<ng-template #nonAuthenticated>
  <router-outlet></router-outlet>
</ng-template>